常用数据类型
int :整型，4个字节
double:浮点型，例如double(5,2)表示最多5位，其中2位为小数，即最大值为999.99。
varchar:可变长度字符串类型。varchar(10) ‘aaa’ 占3位
datetime:日期时间类型。yyyy-MM-dd hh:mm:ss
char:固定长度字符串类型。char(10) ‘aaa ’ 占10位
text:大文本字符串类型
blob:字节类型
date：日期类型，格式为：yyyy-MM-dd
time:时间类型，格式为：hh:mm:ss
timestamp:时间戳类型 yyyy-MM-dd hh:mm:ss 会自动赋值

主键约束：primary key,要求被修饰的字段：唯一和非空
唯一约束：unique，要求被修饰的字段：唯一
非空约束：not null，要求被修饰的字段：非空



创建数据库
create database dbname default character set utf8 collate utf8_general_ci


删除数据库
drop database dbname


切换数据库
use dbname


重命名数据库
sp_renamedb 'old_name', 'new_name'


创建表
create table tablename (
	id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	name VARCHAR(20) NOT NULL,
	age INT(11) NOT NULL,
	email VARCHAR(20) NOT NULL
	);  



删除表
drop table tablename


重命名表
rename table 'old_name' to 'new_name'


清空表
truncate table tablename;


插入数据
insert into tablename (name, age, email) values
('tana', 20, '1533366'),
('tom', 25, '1578945'),
('peter', 30, '102045');


查询数据
select * from tablename where id=1


删除数据
delete from tablename where 范围


更新数据
update tablename set field1=value1 where 范围


插入字段
alter table tablename add num INT(6) NOT NULL


修改字段
alter table tablename change num numxx VARCHAR(20) NOT NULL


删除字段
alter table tablename drop numxx


查找
select * from stu where gender='female' and age<50;
select * from stu where sid='S_1001' and sname='lisi';
select * from stu where sid in('S_1001','S_1002','S_1003');
select * from stu where sid not in('S_1001','S_1002','S_1003');
select * from stu where age is null;
select * from stu where age>=20 and age<=40;
select * from stu where age between 20 and 40;
select * from stu where stu where gender!='male';
select * from stu where gender<>'male';
select * from stu where not gender='male';
select * from stu where not sname is null;
select * from stu where sname is not null;
select * from stu where sname like '_____'; -- 查询姓名由5个字母构成的学生记录
select * from stu where sname like '____i'; -- 查询姓名由5个字母构成，并且第5个字母为“i”的学生
select * from stu where sname like 'z%'; -- 查询姓名以“z”开头的学生记录
select * from stu where sname like '_i%';-- 查询姓名中第2个字母为“i”的学生记录
select * from stu where sname like '%a%';-- 查询姓名中包括“a”字母的学生记录


排序
select * from stu order by age asc; -- 升序排序，也可以不加asc，默认为升序
select * from stu order by age desc; --降序
select * from emp order by sal desc,empno asc;-- 按月薪降序排序，如果月薪相同时，按编号升序排序。只有在前一个条件相同时，后一个条件才会起作用。


聚合
select count(*) as cnt from emp;-- 计算emp表中记录数
select count(comm) cnt from emp;-- 查询emp表中拥有佣金的人数，因为count()函数中给出的是comm列，那么只统计comm列非null的行数。
select count(*) from emp where sal>2500;-- 查询emp表中月薪大于2500的人数
select count(comm),count(mgr) from emp; -- 查询有佣金的人数，以及由领导的人数
select sum(sal) from emp; -- 查询所有雇员的佣金和
select sum(sal),sum(comm) from emp; -- 查询所有雇员月薪和，以及所有雇员佣金和
select sum(sal+ifnumm(comm,0)) from emp; -- 查询所有雇员月薪+佣金和
select avg(sal) from emp;
select max(sal),min(sal) from emp;-- 查询最高工资和最低工资


分组查询
select deptno,sum(sal) from emp group by deptno;-- 查询每个部门的编号和每个部门的工资和
select deptno,count(*) from emp group by deptno;-- 查询每个部门的部门编号以及每个部门的人数
select deptno,count(*) from emp where sal>1500 group by deptno;-- 查询每个部门的编号以及每个部门工资大于1500的人数



2张表关联
table1 LEFT JOIN table2 ON table1.firstname = table2.firstname


3张表关联
(table1 LEFT JOIN table2 ON table1.firstname = table2.firstname) LEFT JOIN table3 ON table1.firstname = table3.firstname



导出数据
mysqldump -u username -p password -h hostname -P port databasename > newdb.sql


导入数据
mysql -u username -p password -h hostname -P port databasename < file.sql


